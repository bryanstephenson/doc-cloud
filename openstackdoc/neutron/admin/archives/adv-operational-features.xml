<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/neutron/doc/source/admin/archives/adv-operational-features.rst">
    <section ids="advanced-operational-features" names="advanced\ operational\ features">
        <title>Advanced operational features</title>
        <section ids="logging-settings" names="logging\ settings">
            <title>Logging settings</title>
            <paragraph>Networking components use Python logging module to do logging. Logging
                configuration can be provided in <literal>neutron.conf</literal> or as command-line
                options. Command options override ones in <literal>neutron.conf</literal>.</paragraph>
            <paragraph>To configure logging for Networking components, use one of these
                methods:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Provide logging settings in a logging configuration file.</paragraph>
                    <paragraph>See <reference name="Python logging how-to" refuri="https://docs.python.org/howto/logging.html">Python logging
                            how-to</reference> to learn more
                        about logging.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Provide logging setting in <literal>neutron.conf</literal>.</paragraph>
                    <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[DEFAULT]
# Default log level is WARNING
# Show debugging output in logs (sets DEBUG log level output)
# debug = False

# log_date_format = %Y-%m-%d %H:%M:%S

# use_syslog = False
# syslog_log_facility = LOG_USER

# if use_syslog is False, we can set log_file and log_dir.
# if use_syslog is False and we do not set log_file,
# the log will be printed to stdout.
# log_file =
# log_dir =</literal_block>
                </list_item>
            </bullet_list>
        </section>
        <section ids="notifications" names="notifications">
            <title>Notifications</title>
            <paragraph>Notifications can be sent when Networking resources such as network,
                subnet and port are created, updated or deleted.</paragraph>
            <section ids="notification-options" names="notification\ options">
                <title>Notification options</title>
                <paragraph>To support DHCP agent, <literal>rpc_notifier</literal> driver must be set. To set up the
                    notification, edit notification options in <literal>neutron.conf</literal>:</paragraph>
                <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve"># Driver or drivers to handle sending notifications. (multi
# valued)
# notification_driver=messagingv2

# AMQP topic used for OpenStack notifications. (list value)
# Deprecated group/name - [rpc_notifier2]/topics
notification_topics = notifications</literal_block>
            </section>
            <section ids="setting-cases" names="setting\ cases">
                <title>Setting cases</title>
                <section ids="logging-and-rpc" names="logging\ and\ rpc">
                    <title>Logging and RPC</title>
                    <paragraph>These options configure the Networking server to send notifications
                        through logging and RPC. The logging options are described in OpenStack
                        Configuration Reference . RPC notifications go to <literal>notifications.info</literal>
                        queue bound to a topic exchange defined by <literal>control_exchange</literal> in
                        <literal>neutron.conf</literal>.</paragraph>
                    <paragraph><strong>Notification System Options</strong></paragraph>
                    <paragraph>A notification can be sent when a network, subnet, or port is created,
                        updated or deleted. The notification system options are:</paragraph>
                    <bullet_list bullet="*">
                        <list_item>
                            <definition_list>
                                <definition_list_item>
                                    <term><literal>notification_driver</literal></term>
                                    <definition>
                                        <paragraph>Defines the driver or drivers to handle the sending of a notification.
                                            The six available options are:</paragraph>
                                        <bullet_list bullet="*">
                                            <list_item>
                                                <definition_list>
                                                    <definition_list_item>
                                                        <term><literal>messaging</literal></term>
                                                        <definition>
                                                            <paragraph>Send notifications using the 1.0 message format.</paragraph>
                                                        </definition>
                                                    </definition_list_item>
                                                </definition_list>
                                            </list_item>
                                            <list_item>
                                                <definition_list>
                                                    <definition_list_item>
                                                        <term><literal>messagingv2</literal></term>
                                                        <definition>
                                                            <paragraph>Send notifications using the 2.0 message format (with a message
                                                                envelope).</paragraph>
                                                        </definition>
                                                    </definition_list_item>
                                                </definition_list>
                                            </list_item>
                                            <list_item>
                                                <definition_list>
                                                    <definition_list_item>
                                                        <term><literal>routing</literal></term>
                                                        <definition>
                                                            <paragraph>Configurable routing notifier (by priority or event_type).</paragraph>
                                                        </definition>
                                                    </definition_list_item>
                                                </definition_list>
                                            </list_item>
                                            <list_item>
                                                <definition_list>
                                                    <definition_list_item>
                                                        <term><literal>log</literal></term>
                                                        <definition>
                                                            <paragraph>Publish notifications using Python logging infrastructure.</paragraph>
                                                        </definition>
                                                    </definition_list_item>
                                                </definition_list>
                                            </list_item>
                                            <list_item>
                                                <definition_list>
                                                    <definition_list_item>
                                                        <term><literal>test</literal></term>
                                                        <definition>
                                                            <paragraph>Store notifications in memory for test verification.</paragraph>
                                                        </definition>
                                                    </definition_list_item>
                                                </definition_list>
                                            </list_item>
                                            <list_item>
                                                <definition_list>
                                                    <definition_list_item>
                                                        <term><literal>noop</literal></term>
                                                        <definition>
                                                            <paragraph>Disable sending notifications entirely.</paragraph>
                                                        </definition>
                                                    </definition_list_item>
                                                </definition_list>
                                            </list_item>
                                        </bullet_list>
                                    </definition>
                                </definition_list_item>
                            </definition_list>
                        </list_item>
                        <list_item>
                            <definition_list>
                                <definition_list_item>
                                    <term><literal>default_notification_level</literal></term>
                                    <definition>
                                        <paragraph>Is used to form topic names or to set a logging level.</paragraph>
                                    </definition>
                                </definition_list_item>
                            </definition_list>
                        </list_item>
                        <list_item>
                            <definition_list>
                                <definition_list_item>
                                    <term><literal>default_publisher_id</literal></term>
                                    <definition>
                                        <paragraph>Is a part of the notification payload.</paragraph>
                                    </definition>
                                </definition_list_item>
                            </definition_list>
                        </list_item>
                        <list_item>
                            <definition_list>
                                <definition_list_item>
                                    <term><literal>notification_topics</literal></term>
                                    <definition>
                                        <paragraph>AMQP topic used for OpenStack notifications. They can be comma-separated
                                            values. The actual topic names will be the values of
                                            <literal>default_notification_level</literal>.</paragraph>
                                    </definition>
                                </definition_list_item>
                            </definition_list>
                        </list_item>
                        <list_item>
                            <definition_list>
                                <definition_list_item>
                                    <term><literal>control_exchange</literal></term>
                                    <definition>
                                        <paragraph>This is an option defined in oslo.messaging. It is the default exchange
                                            under which topics are scoped. May be overridden by an exchange name
                                            specified in the <literal>transport_url</literal> option. It is a string value.</paragraph>
                                    </definition>
                                </definition_list_item>
                            </definition_list>
                        </list_item>
                    </bullet_list>
                    <paragraph>Below is a sample <literal>neutron.conf</literal> configuration file:</paragraph>
                    <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">notification_driver = messagingv2

default_notification_level = INFO

host = myhost.com
default_publisher_id = $host

notification_topics = notifications

control_exchange = openstack</literal_block>
                </section>
            </section>
        </section>
    </section>
</document>
