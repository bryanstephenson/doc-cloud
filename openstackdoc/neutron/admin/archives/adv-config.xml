<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/neutron/doc/source/admin/archives/adv-config.rst">
    <section ids="advanced-configuration-options" names="advanced\ configuration\ options">
        <title>Advanced configuration options</title>
        <paragraph>This section describes advanced configuration options for various system
            components. For example, configuration options where the default works
            but that the user wants to customize options. After installing from
            packages, <literal>$NEUTRON_CONF_DIR</literal> is <literal>/etc/neutron</literal>.</paragraph>
        <section ids="l3-metering-agent" names="l3\ metering\ agent">
            <title>L3 metering agent</title>
            <paragraph>You can run an L3 metering agent that enables layer-3 traffic metering.
                In general, you should launch the metering agent on all nodes that run
                the L3 agent:</paragraph>
            <literal_block highlight_args="{}" language="console" linenos="False" xml:space="preserve">$ neutron-metering-agent --config-file NEUTRON_CONFIG_FILE \
  --config-file L3_METERING_CONFIG_FILE</literal_block>
            <paragraph>You must configure a driver that matches the plug-in that runs on the
                service. The driver adds metering to the routing interface.</paragraph>
            <table>
                <tgroup cols="2">
                    <colspec colwidth="42"></colspec>
                    <colspec colwidth="33"></colspec>
                    <thead>
                        <row>
                            <entry>
                                <paragraph>Option</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Value</paragraph>
                            </entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph><strong>Open vSwitch</strong></paragraph>
                            </entry>
                            <entry>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>interface_driver
                                    ($NEUTRON_CONF_DIR/metering_agent.ini)</paragraph>
                            </entry>
                            <entry>
                                <paragraph>openvswitch</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>Linux Bridge</strong></paragraph>
                            </entry>
                            <entry>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>interface_driver
                                    ($NEUTRON_CONF_DIR/metering_agent.ini)</paragraph>
                            </entry>
                            <entry>
                                <paragraph>linuxbridge</paragraph>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
            <section ids="l3-metering-driver" names="l3\ metering\ driver">
                <title>L3 metering driver</title>
                <paragraph>You must configure any driver that implements the metering abstraction.
                    Currently the only available implementation uses iptables for metering.</paragraph>
                <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">driver = iptables</literal_block>
            </section>
            <section ids="l3-metering-service-driver" names="l3\ metering\ service\ driver">
                <title>L3 metering service driver</title>
                <paragraph>To enable L3 metering, you must set the following option in the
                    <literal>neutron.conf</literal> file on the host that runs <literal>neutron-server</literal>:</paragraph>
                <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">service_plugins = metering</literal_block>
            </section>
        </section>
    </section>
</document>
