<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.13.1 -->
<document source="/home/fbaumanis/openstack/soc8_test/openstack_repo/neutron/doc/source/install/compute-install-option2-obs.rst">
    <section ids="networking-option-2-self-service-networks" names="networking\ option\ 2:\ self-service\ networks">
        <title>Networking Option 2: Self-service networks</title>
        <paragraph>Configure the Networking components on a <emphasis>compute</emphasis> node.</paragraph>
        <section ids="configure-the-linux-bridge-agent" names="configure\ the\ linux\ bridge\ agent">
            <title>Configure the Linux bridge agent</title>
            <paragraph>The Linux bridge agent builds layer-2 (bridging and switching) virtual
                networking infrastructure for instances and handles security groups.</paragraph>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph>Edit the <literal>/etc/neutron/plugins/ml2/linuxbridge_agent.ini</literal> file and
                        complete the following actions:</paragraph>
                    <bullet_list bullet="*">
                        <list_item>
                            <paragraph>In the <literal>[linux_bridge]</literal> section, map the provider virtual network to the
                                provider physical network interface:</paragraph>
                            <comment xml:space="preserve">path /etc/neutron/plugins/ml2/linuxbridge_agent.ini</comment>
                            <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[linux_bridge]
physical_interface_mappings = provider:PROVIDER_INTERFACE_NAME</literal_block>
                            <comment xml:space="preserve">end</comment>
                            <paragraph>Replace <literal>PROVIDER_INTERFACE_NAME</literal> with the name of the underlying
                                provider physical network interface. See <reference internal="True" refuri="environment-networking-obs"><inline classes="doc">Host networking</inline></reference>
                                for more information.</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>In the <literal>[vxlan]</literal> section, enable VXLAN overlay networks, configure the
                                IP address of the physical network interface that handles overlay
                                networks, and enable layer-2 population:</paragraph>
                            <comment xml:space="preserve">path /etc/neutron/plugins/ml2/linuxbridge_agent.ini</comment>
                            <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[vxlan]
enable_vxlan = true
local_ip = OVERLAY_INTERFACE_IP_ADDRESS
l2_population = true</literal_block>
                            <comment xml:space="preserve">end</comment>
                            <paragraph>Replace <literal>OVERLAY_INTERFACE_IP_ADDRESS</literal> with the IP address of the
                                underlying physical network interface that handles overlay networks. The
                                example architecture uses the management interface to tunnel traffic to
                                the other nodes. Therefore, replace <literal>OVERLAY_INTERFACE_IP_ADDRESS</literal> with
                                the management IP address of the compute node. See
                                <reference internal="True" refuri="environment-networking-obs"><inline classes="doc">Host networking</inline></reference> for more information.</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>In the <literal>[securitygroup]</literal> section, enable security groups and
                                configure the Linux bridge iptables firewall driver:</paragraph>
                            <comment xml:space="preserve">path /etc/neutron/plugins/ml2/linuxbridge_agent.ini</comment>
                            <literal_block highlight_args="{}" language="ini" linenos="False" xml:space="preserve">[securitygroup]
# ...
enable_security_group = true
firewall_driver = neutron.agent.linux.iptables_firewall.IptablesFirewallDriver</literal_block>
                            <comment xml:space="preserve">end</comment>
                        </list_item>
                    </bullet_list>
                </list_item>
            </bullet_list>
            <paragraph>Return to <emphasis>Networking compute node configuration</emphasis>.</paragraph>
        </section>
    </section>
</document>
