<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<section xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xi="http://www.w3.org/2001/XInclude" version="5.1">
  <title>Manage flavors</title>
  <para>In OpenStack, a flavor defines the compute, memory, and storage
            capacity of a virtual server, also known as an instance. As an
            administrative user, you can create, edit, and delete flavors.</para>
  <para>As of Newton, there are no default flavors.  The following table
            lists the default flavors for Mitaka and earlier.</para>
  <informaltable>
    <tgroup cols="4">
      <colspec colname="c1" colwidth="24.5*"/>
      <colspec colname="c2" colwidth="18.4*"/>
      <colspec colname="c3" colwidth="30.6*"/>
      <colspec colname="c4" colwidth="26.5*"/>
      <thead>
        <row>
          <entry>
            <para>Flavor</para>
          </entry>
          <entry>
            <para>VCPUs</para>
          </entry>
          <entry>
            <para>Disk (in GB)</para>
          </entry>
          <entry>
            <para>RAM (in MB)</para>
          </entry>
        </row>
      </thead>
      <tbody>
        <row>
          <entry>
            <para>m1.tiny</para>
          </entry>
          <entry>
            <para>1</para>
          </entry>
          <entry>
            <para>1</para>
          </entry>
          <entry>
            <para>512</para>
          </entry>
        </row>
        <row>
          <entry>
            <para>m1.small</para>
          </entry>
          <entry>
            <para>1</para>
          </entry>
          <entry>
            <para>20</para>
          </entry>
          <entry>
            <para>2048</para>
          </entry>
        </row>
        <row>
          <entry>
            <para>m1.medium</para>
          </entry>
          <entry>
            <para>2</para>
          </entry>
          <entry>
            <para>40</para>
          </entry>
          <entry>
            <para>4096</para>
          </entry>
        </row>
        <row>
          <entry>
            <para>m1.large</para>
          </entry>
          <entry>
            <para>4</para>
          </entry>
          <entry>
            <para>80</para>
          </entry>
          <entry>
            <para>8192</para>
          </entry>
        </row>
        <row>
          <entry>
            <para>m1.xlarge</para>
          </entry>
          <entry>
            <para>8</para>
          </entry>
          <entry>
            <para>160</para>
          </entry>
          <entry>
            <para>16384</para>
          </entry>
        </row>
      </tbody>
    </tgroup>
  </informaltable>
  <section>
    <title>Create flavors</title>
    <procedure>
      <step>
        <para>Log in to the Dashboard and select the <guilabel>admin</guilabel> project
                        from the drop-down list.</para>
      </step>
      <step>
        <para>In the <guilabel>Admin</guilabel> tab, open the <guilabel>System</guilabel>
                        tab and click the <guilabel>Flavors</guilabel> category.</para>
      </step>
      <step>
        <para>Click <guilabel>Create Flavor</guilabel>.</para>
      </step>
      <step>
        <para>In the <guilabel>Create Flavor</guilabel> window, enter or select the
                        parameters for the flavor in the <guilabel>Flavor Information</guilabel> tab.</para>
        <figure>
          <title>Dashboard — Create Flavor</title>
          <informalfigure>
            <mediaobject>
              <imageobject role="fo">
                <imagedata fileref="create_flavor.png"/>
              </imageobject>
              <imageobject role="html">
                <imagedata fileref="create_flavor.png"/>
              </imageobject>
            </mediaobject>
          </informalfigure>
        </figure>
        <informaltable>
          <tgroup cols="2">
            <colspec colname="c1" colwidth="39.1*"/>
            <colspec colname="c2" colwidth="60.9*"/>
            <tbody>
              <row>
                <entry>
                  <para>
                    <emphasis role="bold">Name</emphasis>
                  </para>
                </entry>
                <entry>
                  <para>Enter the flavor name.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <emphasis role="bold">ID</emphasis>
                  </para>
                </entry>
                <entry>
                  <para>Unique ID (integer or UUID) for the
                                            new flavor. If specifying ‘auto’, a
                                            UUID will be automatically generated.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <emphasis role="bold">VCPUs</emphasis>
                  </para>
                </entry>
                <entry>
                  <para>Enter the number of virtual CPUs to
                                            use.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <emphasis role="bold">RAM (MB)</emphasis>
                  </para>
                </entry>
                <entry>
                  <para>Enter the amount of RAM to use, in
                                            megabytes.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <emphasis role="bold">Root Disk (GB)</emphasis>
                  </para>
                </entry>
                <entry>
                  <para>Enter the amount of disk space in
                                            gigabytes to use for the root (/)
                                            partition.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <emphasis role="bold">Ephemeral Disk (GB)</emphasis>
                  </para>
                </entry>
                <entry>
                  <para>Enter the amount of disk space in
                                            gigabytes to use for the ephemeral
                                            partition. If unspecified, the value
                                            is 0 by default.</para>
                  <para>Ephemeral disks offer machine local
                                            disk storage linked to the lifecycle
                                            of a VM instance. When a VM is
                                            terminated, all data on the ephemeral
                                            disk is lost. Ephemeral disks are not
                                            included in any snapshots.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <emphasis role="bold">Swap Disk (MB)</emphasis>
                  </para>
                </entry>
                <entry>
                  <para>Enter the amount of swap space (in
                                            megabytes) to use. If unspecified,
                                            the default is 0.</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <emphasis role="bold">RX/TX Factor</emphasis>
                  </para>
                </entry>
                <entry>
                  <para>Optional property allows servers with
                                            a different bandwidth to be created
                                            with the RX/TX Factor. The default
                                            value is 1. That is, the new bandwidth
                                            is the same as that of the attached
                                            network.</para>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </informaltable>
      </step>
      <step>
        <para>In the <guilabel>Flavor Access</guilabel> tab, you can control access to
                        the flavor by moving projects from the <guilabel>All Projects</guilabel>
                        column to the <guilabel>Selected Projects</guilabel> column.</para>
        <para>Only projects in the <guilabel>Selected Projects</guilabel> column can
                        use the flavor. If there are no projects in the right column,
                        all projects can use the flavor.</para>
      </step>
      <step>
        <para>Click <guilabel>Create Flavor</guilabel>.</para>
      </step>
    </procedure>
  </section>
  <section>
    <title>Update flavors</title>
    <procedure>
      <step>
        <para>Log in to the Dashboard and select the <guilabel>admin</guilabel> project
                        from the drop-down list.</para>
      </step>
      <step>
        <para>In the <guilabel>Admin</guilabel> tab, open the <guilabel>System</guilabel> tab
                        and click the <guilabel>Flavors</guilabel> category.</para>
      </step>
      <step>
        <para>Select the flavor that you want to edit. Click <guilabel>Edit
                            Flavor</guilabel>.</para>
      </step>
      <step>
        <para>In the <guilabel>Edit Flavor</guilabel> window, you can change the flavor
                        name, VCPUs, RAM, root disk, ephemeral disk, and swap disk values.</para>
      </step>
      <step>
        <para>Click <guilabel>Save</guilabel>.</para>
      </step>
    </procedure>
  </section>
  <section>
    <title>Update Metadata</title>
    <procedure>
      <step>
        <para>Log in to the Dashboard and select the <guilabel>admin</guilabel> project
                        from the drop-down list.</para>
      </step>
      <step>
        <para>In the <guilabel>Admin</guilabel> tab, open the <guilabel>System</guilabel> tab
                        and click the <guilabel>Flavors</guilabel> category.</para>
      </step>
      <step>
        <para>Select the flavor that you want to update. In the drop-down
                        list, click <guilabel>Update Metadata</guilabel> or click <guilabel>No</guilabel> or
                        <guilabel>Yes</guilabel> in the <guilabel>Metadata</guilabel> column.</para>
      </step>
      <step>
        <para>In the <guilabel>Update Flavor Metadata</guilabel> window, you can customize
                        some metadata keys, then add it to this flavor and set them values.</para>
      </step>
      <step>
        <para>Click <guilabel>Save</guilabel>.</para>
        <para>
          <emphasis role="bold">Optional metadata keys</emphasis>
        </para>
        <informaltable>
          <tgroup cols="2">
            <colspec colname="c1" colwidth="50.0*"/>
            <colspec colname="c2" colwidth="50.0*"/>
            <tbody>
              <row>
                <entry morerows="4">
                  <para>
                    <emphasis role="bold">CPU limits</emphasis>
                  </para>
                </entry>
                <entry>
                  <para>quota:cpu_shares</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>quota:cpu_period</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>quota:cpu_limit</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>quota:cpu_reservation</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>quota:cpu_quota</para>
                </entry>
              </row>
              <row>
                <entry morerows="5">
                  <para>
                    <emphasis role="bold">Disk tuning</emphasis>
                  </para>
                </entry>
                <entry>
                  <para>quota:disk_read_bytes_sec</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>quota:disk_read_iops_sec</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>quota:disk_write_bytes_sec</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>quota:disk_write_iops_sec</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>quota:disk_total_bytes_sec</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>quota:disk_total_iops_sec</para>
                </entry>
              </row>
              <row>
                <entry morerows="5">
                  <para>
                    <emphasis role="bold">Bandwidth I/O</emphasis>
                  </para>
                </entry>
                <entry>
                  <para>quota:vif_inbound_average</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>quota:vif_inbound_burst</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>quota:vif_inbound_peak</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>quota:vif_outbound_average</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>quota:vif_outbound_burst</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>quota:vif_outbound_peak</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>
                    <emphasis role="bold">Watchdog behavior</emphasis>
                  </para>
                </entry>
                <entry>
                  <para>hw:watchdog_action</para>
                </entry>
              </row>
              <row>
                <entry morerows="2">
                  <para>
                    <emphasis role="bold">Random-number generator</emphasis>
                  </para>
                </entry>
                <entry>
                  <para>hw_rng:allowed</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>hw_rng:rate_bytes</para>
                </entry>
              </row>
              <row>
                <entry>
                  <para>hw_rng:rate_period</para>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </informaltable>
        <para>For information about supporting metadata keys, see the
                        the Compute service documentation.</para>
      </step>
    </procedure>
  </section>
  <section>
    <title>Delete flavors</title>
    <procedure>
      <step>
        <para>Log in to the Dashboard and select the <guilabel>admin</guilabel> project
                        from the drop-down list.</para>
      </step>
      <step>
        <para>In the <guilabel>Admin</guilabel> tab, open the <guilabel>System</guilabel> tab
                        and click the <guilabel>Flavors</guilabel> category.</para>
      </step>
      <step>
        <para>Select the flavors that you want to delete.</para>
      </step>
      <step>
        <para>Click <guilabel>Delete Flavors</guilabel>.</para>
      </step>
      <step>
        <para>In the <guilabel>Confirm Delete Flavors</guilabel> window, click
                        <guilabel>Delete Flavors</guilabel> to confirm the deletion. You cannot
                        undo this action.</para>
      </step>
    </procedure>
  </section>
</section>
